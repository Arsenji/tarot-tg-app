# üîç –û—Ç—á–µ—Ç –æ–± –æ—Ç–ª–∞–¥–∫–µ YooKassa

## ‚ùì –ü—Ä–æ–±–ª–µ–º–∞
–ü–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ YooKassa –≤—Å—ë –µ—â—ë –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, —Ö–æ—Ç—è —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.

## üîç –ü—Ä–æ–≤–µ–¥—ë–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–§–∞–π–ª `.env`:**
```
YOOKASSA_SHOP_ID=1168307
YOOKASSA_SECRET_KEY=live_cpuqidJ0u-MVgmH4om9lY_BhGLzgEg2-5xbzEF3xq7c
```
‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–§–∞–π–ª `.env.production`:**
```
YOOKASSA_SHOP_ID=your_yookassa_shop_id
YOOKASSA_SECRET_KEY=your_yookassa_secret_key
```
‚ö†Ô∏è –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
node -e "require('dotenv').config(); console.log(process.env.YOOKASSA_SHOP_ID)"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 1168307 ‚úÖ
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –≤ –∫–æ–¥–µ

```typescript
const isYooKassaConfigured = process.env.YOOKASSA_SHOP_ID && 
  process.env.YOOKASSA_SHOP_ID !== 'your_yookassa_shop_id' &&
  process.env.YOOKASSA_SHOP_ID !== 'test_shop_id' &&
  process.env.YOOKASSA_SECRET_KEY && 
  process.env.YOOKASSA_SECRET_KEY !== 'your_yookassa_secret_key' &&
  process.env.YOOKASSA_SECRET_KEY !== 'test_secret_key';
```
‚úÖ –õ–æ–≥–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

```bash
node -e "
require('dotenv').config();
const isYooKassaConfigured = process.env.YOOKASSA_SHOP_ID && 
  process.env.YOOKASSA_SHOP_ID !== 'your_yookassa_shop_id' &&
  process.env.YOOKASSA_SHOP_ID !== 'test_shop_id' &&
  process.env.YOOKASSA_SECRET_KEY && 
  process.env.YOOKASSA_SECRET_KEY !== 'your_yookassa_secret_key' &&
  process.env.YOOKASSA_SECRET_KEY !== 'test_secret_key';
console.log('isYooKassaConfigured:', isYooKassaConfigured);
"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: isYooKassaConfigured: true ‚úÖ
```

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **–ë–æ—Ç –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `.env`**
   - –ü—Ä–æ—Ü–µ—Å—Å nodemon –º–æ–≥ –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `.env`
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - Node.js –º–æ–≥ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

## üõ†Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ `backend/src/bot/index.ts`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `logger.info('YooKassa configuration check')` –¥–ª—è –≤—ã–≤–æ–¥–∞:
   - `shopId`
   - `secretKeyPrefix`
   - `isConfigured`
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥–æ–≥–æ —É—Å–ª–æ–≤–∏—è

3. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –±—ç–∫–µ–Ω–¥ —Å –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## üìä –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `isConfigured: true` –≤ –ª–æ–≥–∞—Ö
4. –ï—Å–ª–∏ `isConfigured: false` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–µ –∏–º–µ–Ω–Ω–æ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

## üîÑ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–∞—Ç—å "–ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
3. –í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "1 –Ω–µ–¥–µ–ª—è - 99‚ÇΩ")
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–ø–∏—Å–∏ "YooKassa configuration check"
5. –ï—Å–ª–∏ `isConfigured: true` - –ø–ª–∞—Ç—ë–∂ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º
6. –ï—Å–ª–∏ `isConfigured: false` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—à–ª–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã ‚úÖ
- –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ ‚úÖ
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ ‚úÖ
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –±–æ—Ç–µ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
